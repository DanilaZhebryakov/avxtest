Задача данных программ - показать прироост производительности при использовании avx2, в случаях автоматических оптимизаций комилятора (-O3) и при явном использовании этих инструкций. В качестве тестовой задачи взято построение множества мандельброта. Для измерения производительности измерялось время рассчётов (отдельно от вывода на экран). Время работы графической части так же измерялось (для сравнения) Это время вне зависимости от использованного алгоритма составляло около 1 мс на кадр.
Для алгоритма измерялись 2 значения времени: при начальном положении экрана и при приближении, так что чёрная область занимала весь экран (максимальная сложность рассчётов)

Файл no-optimise.cpp: тривиально реализованный алгоритм. AVX-инструкции не используются. По ассемблерному выводу видно, что компилятор не использовал simd инструкции для ускорения программы. Время рассчётов: 40/370 мс на кадр

Файл array.cpp: Элементы разделены на блоки по 256 бит, операции производятся над элементами блоков. Операции вынесены в отдельные функции, прямо соответствующие avx-инструкциям. В таких условиях компилятор начинает применять оптимизации с использованием avx, но почему-то только в некоторых местах. Есть прирост производительности, но он значительно меньше ожидаемого. Время: 32/250 мс на кадр

Файл array_nofunc.cpp: аналогичен array.cpp, но функции работы с числами подставлены прямо в код в местах вызова. По не очень понятным причинам, наблюдается незначительный прирост производительности. Время: 31/240 мс на кадр

Файл intrinsic.cpp: явным образом использованы avx-инструкции (через intrinsic-и) при работе с упакованными числами. Структура алгоритма та же, что в файле array.cpp Время: 7/51 мс Прирост производительности более чем в 7 раз по сранению с исходным вариантом. Посмотрев в ассемблерный вывод, можно найти эти инструкции. Компилятор так же сделал некоторое количество оптимизаций (вынос кода), что значительно сократило количество инструкций, и , соответственно время работы.

Вывод: компилятор почти не применяяет simd инструкции если это не указано явно. В этом случае требуется оптимизировать код вручную.
